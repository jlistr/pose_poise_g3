type User @table(key: ["uid"]) {
  uid: String!
  createdAt: Timestamp!
  email: String
}

type Profile @table(key: ["user"]) {
  user: User!
  name: String!
  height: String!
  bust: String!
  waist: String!
  hips: String!
  shoeSize: String!
  dressSize: String!
  hairColor: String!
  eyeColor: String!
  instagram: String
  avatar: String
  description: String
  careerGoals: String
}

type Portfolio @table(key: ["user"]) {
  user: User!
  isPublic: Boolean!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  settings: String # Storing JSON as String
}

type Shoot @table {
  portfolio: Portfolio!
  name: String!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  vibes: String
  photographer: String
  studio: String
}

type Image @table {
  user: User!
  url: String!
  uploadedAt: Timestamp!
  metadata: String # Storing JSON as String
  fileHash: String # SHA-256 hash for duplicate detection
}

type ShootImage @table(key: ["shoot", "image"]) {
  shoot: Shoot!
  image: Image!
  order: Int!
  isVisible: Boolean! @default(value: true)
}

type CompCard @table {
  user: User!
  layout: String!
  aesthetic: String!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  profileSnapshot: String # Storing JSON as String
}